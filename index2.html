<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SportTime Меню</title>
    <link rel="stylesheet" href="styles1.css" />
    <link rel="stylesheet" href="mobile-nav.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <body class="index2-main">
    <!-- Мобільна верхня панель -->
    <div class="mobile-top-bar">
      <img src="header/logotypSportTime.jpg" alt="Логотип" class="mobile-logo" />
      <div class="mobile-title-block">
        <span class="mobile-title">SportTime</span>
        <span class="mobile-subtitle">RESTAURANT</span>
      </div>
      <button class="mobile-search-btn" id="mobileSearchBtn" aria-label="Пошук">
        <img src="header/Лупа2.png" alt="Пошук" />
      </button>
    </div>
    <div class="mobile-search-bar" id="mobileSearchBar">
      <input type="text" id="mobileSearchInput" placeholder="Пошук по меню..." />
      <button id="mobileSearchClose" aria-label="Закрити">&times;</button>
    </div>
    <!-- HORIZONTAL MOBILE MENU for index2.html only -->
    <nav class="mobile-horizontal-menu" id="mobileHorizontalMenu">
      <div class="mobile-main-menu">
        <button class="main-menu-btn active" data-menu="kitchen">Кухня</button>
        <button class="main-menu-btn" data-menu="alco">Алкогольні напої/Коктелі</button>
        <button class="main-menu-btn" data-menu="nonalco">Безалкогольні напої/Коктелі</button>
        <button class="main-menu-btn" data-menu="banquet">Банкетне меню(Тільки по передзамовленню)</button>
      </div>
      <div class="mobile-sub-menu" id="mobileSubMenu">
        <!-- Submenu will be injected here -->
      </div>
    </nav>
    <div class="main-nav">
      <div class="main-nav-left">
        <div class="main-nav-logo-title">
          <img src="header/logotypSportTime.jpg" alt="Логотип" class="logo" style="margin-right: 18px; vertical-align: middle;" />
          <div class="main-nav-title-block">
            <span class="main-nav-title">SportTime</span>
            <span class="main-nav-subtitle">RESTAURANT</span>
          </div>
        </div>
        <!-- Навігація під назвою сайту -->
        <div class="main-nav-links-under">
          <a href="index.html" class="main-nav-link">Головна</a>
          <a href="index2.html" class="main-nav-link">Меню</a>
          <a href="#" class="main-nav-link" style="pointer-events: none; opacity: 1;">Про нас</a>
        </div>
      </div>
      <div class="main-nav-search">
        <div class="search-container">
          <input type="text" placeholder="Знайти страву..." id="searchInput" />
            <button type="button" onclick="searchDish()" class="search-btn">
               <img src="header/лупа.png" alt="Пошук" />
          </button>
        </div>
        
      </div>
    </div>
    
    <!-- Mobile bottom navigation -->
    <nav class="mobile-bottom-nav">
      <a href="index.html" id="nav-home">
        <img src="header/home.svg" alt="Головна" />
        Головна
      </a>
      <a href="index2.html" id="nav-menu" class="active">
        <img src="header/menu.svg" alt="Меню" />
        Меню
      </a>
      <a href="#" id="nav-about" style="pointer-events: none; opacity: 0.6;">
        <img src="header/info.png" alt="Про нас" />
        Про нас
      </a>
    </nav>
    
    <div class="site-flex">
      <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
        </div>
        <div class="sidebar-menu">
          <h3>Меню:</h3>
          <ul>
            <li class="sidebar-has-submenu open">
              <a href="#" class="sidebar-submenu-toggle">Кухня</a>
              <ul class="sidebar-submenu">
                <li><a href="#starters" class="sidebar-link">Стартери</a></li>
                <li><a href="#soups" class="sidebar-link">Перші страви</a></li>
                <li><a href="#kids" class="sidebar-link">Дитяче меню</a></li>
                <li><a href="#salads" class="sidebar-link">Салати</a></li>
                <li><a href="#seafood" class="sidebar-link">Риба та морепродукти</a></li>
                <li><a href="#breakfast" class="sidebar-link">На сніданок</a></li>
                <li><a href="#side-dishes" class="sidebar-link">Гарніри</a></li>
                <li><a href="#veal" class="sidebar-link">Телятина</a></li>
                <li><a href="#pork" class="sidebar-link">Свинина</a></li>
                <li><a href="#poultry" class="sidebar-link">Птиця</a></li>
                <li><a href="#pasta" class="sidebar-link">Паста</a></li>
                <li><a href="#beer-snacks" class="sidebar-link">Закуска до пива</a></li>
                <li><a href="#bread" class="sidebar-link">Хліб</a></li>
                <li><a href="#desserts" class="sidebar-link">Десерти</a></li>
                <li><a href="#sourdough" class="sidebar-link">Хліб на заквасці</a></li>
                <li><a href="#pizza" class="sidebar-link">Піца</a></li>
              </ul>
            </li>
            <li class="sidebar-has-submenu">
              <a href="#" class="sidebar-submenu-toggle">Алкогольні напої/Коктелі</a>
              <ul class="sidebar-submenu">
                <li><a href="#vodka" class="sidebar-link">Горілка</a></li>
                <li><a href="#cognac" class="sidebar-link">Коньяк</a></li>
                <li><a href="#whisky" class="sidebar-link">Віскі</a></li>
                <li><a href="#tequila" class="sidebar-link">Текіла</a></li>
                <li><a href="#rum" class="sidebar-link">Ром</a></li>
                <li><a href="#nastoiki" class="sidebar-link">Настоянки</a></li>
                <li><a href="#liqueurs" class="sidebar-link">Лікери</a></li>
                <li><a href="#vermouths" class="sidebar-link">Вермути</a></li>
                <li><a href="#gin" class="sidebar-link">Джин</a></li>
                <li><a href="#sparkling" class="sidebar-link">Ігристі вина</a></li>
                <li><a href="#wines" class="sidebar-link">Вина</a></li>
                <li><a href="#georgian-wines" class="sidebar-link">Вина Грузії</a></li>
                <li><a href="#beer" class="sidebar-link">Пиво</a></li>
                <li><a href="#shots" class="sidebar-link">Шоти</a></li>
                <li><a href="#longs" class="sidebar-link">Лонги</a></li>
              </ul>
            </li>
            <li class="sidebar-has-submenu">
              <a href="#" class="sidebar-submenu-toggle">Безалкогольні напої/Коктейлі</a>
              <ul class="sidebar-submenu">
                <li><a href="#nonalc-cocktails" class="sidebar-link">Коктейлі безалкогольні</a></li>
                <li><a href="#tea-coffee" class="sidebar-link">Чай / кава</a></li>
                <li><a href="#water-drinks" class="sidebar-link">Вода / напої</a></li>
              </ul>
            </li>
            <li class="sidebar-has-submenu">
              <a href="#" class="sidebar-submenu-toggle">Банкетне меню <span style="display:block;font-size:0.8em;font-weight:400;line-height:1.1;margin-left:0px;">(Тільки по передзамовленню)</span></a>
              <ul class="sidebar-submenu">
                <li><a href="#banquet-grill" class="sidebar-link">Гриль меню</a></li>
                <li><a href="#banquet-meat-fish" class="sidebar-link">М'ясні та рибні страви</a></li>
                <li><a href="#banquet-side" class="sidebar-link">Гарніри</a></li>
                <li><a href="#banquet-snacks" class="sidebar-link">Закуски</a></li>
                <li><a href="#banquet-varenyky" class="sidebar-link">Вареники</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <div class="main-content" id="mainContent">
        <!-- Контейнер для меню, буде наповнюватись з menu.json -->
        <div id="menu-sections">

      </div>
      <!-- Права інфопанель -->
      <div class="right-sidebar">
        <div class="info-block">
          <div class="info-label"><img src="Clock.png" alt="Годинник" class="info-img-icon" /><span class="info-label-text">Робочий час:</span></div>
          <div class="info-value">Пн-Пт: 10:00 – 22:00</div>
          <div class="info-value">Сб-Нд: 10:00 – 22:00</div>
        </div>
                <div class="info-block">
          <div class="info-label"><img src="Phone.png" alt="Телефон" class="info-img-icon" /><span class="info-label-text">Телефон:</span></div>
          <div class="info-value">+380969883869</div>
        </div>
        <div class="info-block">
  <div class="info-label">
    <img src="pointer.png" alt="Адреса" class="info-img-icon" />
    <span class="info-label-text">Адреса:</span>
  </div>
  <div class="info-value">Олександрія, вул. Шевченка, 58Б, E584</div>
  <div class="info-map">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2637.2266353211076!2d33.104961!3d48.6752422!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40d09d8d7a3a8fc3%3A0xba04a97a5c9f5a32!2z0KHQtdC80L3QsCDQstGD0LvQvtCy!5e0!3m2!1suk!2sua!4v1720199800000!5m2!1suk!2sua" 
      width="300" height="200" style="border:0; margin-top: 10px;" allowfullscreen="" loading="lazy">
    </iframe>
  </div>
</div>

        
      </div>
    </div>
    <script src="main.js"></script>
    <script>
      // --- Мобільний пошук для index2.html (фільтрація під час введення) ---
      let lastActiveMenu = 'kitchen'; // Зберігаємо останню активну категорію
      const mobileSearchBtn = document.getElementById('mobileSearchBtn');
      const mobileSearchBar = document.getElementById('mobileSearchBar');
      const mobileSearchInput = document.getElementById('mobileSearchInput');
      const mobileSearchClose = document.getElementById('mobileSearchClose');
      if (mobileSearchBtn && mobileSearchBar && mobileSearchInput && mobileSearchClose) {
        mobileSearchBtn.addEventListener('click', function() {
          if(window.innerWidth <= 700) {
            // Зберігаємо активну категорію
            const activeMenuBtn = document.querySelector('.main-menu-btn.active');
            if(activeMenuBtn) lastActiveMenu = activeMenuBtn.dataset.menu;
            // Додаємо відступ для стартерів
            const starters = document.getElementById('starters');
            if(starters) starters.style.marginTop = '-0px';
          }
          document.body.classList.add('mobile-search-active');
          setTimeout(() => mobileSearchInput.focus(), 100);
        });
        mobileSearchClose.addEventListener('click', function() {
          document.body.classList.remove('mobile-search-active');
          mobileSearchInput.value = '';
          // Скидаємо фільтр
          const searchInput = document.getElementById('searchInput');
          if (searchInput) {
            searchInput.value = '';
            const event = new Event('input', { bubbles: true });
            searchInput.dispatchEvent(event);
          }
          if(window.innerWidth <= 700) {
            // Повертаємо відступ для стартерів
            const starters = document.getElementById('starters');
            if(starters) starters.style.marginTop = '';
            // Відновлюємо активну категорію
            if(lastActiveMenu) {
              const btn = document.querySelector(`.main-menu-btn[data-menu="${lastActiveMenu}"]`);
              if(btn) btn.click();
            }
          }
        });
        // Фільтрація під час введення
        mobileSearchInput.addEventListener('input', function() {
          const val = mobileSearchInput.value;
          const searchInput = document.getElementById('searchInput');
          if (searchInput) {
            searchInput.value = val;
            const event = new Event('input', { bubbles: true });
            searchInput.dispatchEvent(event);
          }
        });
        // Enter — закрити поле
        mobileSearchInput.addEventListener('keydown', function(e) {
          if (e.key === 'Enter') {
            document.body.classList.remove('mobile-search-active');
            if(window.innerWidth <= 700) {
              // Повертаємо відступ для стартерів
              const starters = document.getElementById('starters');
              if(starters) starters.style.marginTop = '';
              // Відновлюємо активну категорію
              if(lastActiveMenu) {
                const btn = document.querySelector(`.main-menu-btn[data-menu="${lastActiveMenu}"]`);
                if(btn) btn.click();
              }
            }
          }
        });
      }
    </script>
        <div id="imgModal" style="display: none; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999;">
      <span id="imgModalClose" style="position: absolute; top: 10px; right: 20px; font-size: 30px; color: white; cursor: pointer;">&times;</span>
      <img id="imgModalImg" style="max-width: 90%; max-height: 90%;" />
    </div>
    <nav class="mobile-bottom-nav">
      <a href="index.html" id="nav-home">
        <img src="header/home.svg" alt="Головна" />
        Головна
      </a>
      <a href="index2.html" id="nav-menu" class="active">
        <img src="header/menu.svg" alt="Меню" />
        Меню
      </a>
      <a href="#" id="nav-about" style="pointer-events: none; opacity: 0.6;">
        <img src="header/info.png" alt="Про нас" />
        Про нас
      </a>
    </nav>
    <script>
      // --- HORIZONTAL MOBILE MENU LOGIC ---
      const subMenus = {
        kitchen: [
          {href:'#starters', text:'Стартери'},
          {href:'#soups', text:'Перші страви'},
          {href:'#kids', text:'Дитяче меню'},
          {href:'#salads', text:'Салати'},
          {href:'#seafood', text:'Риба та морепродукти'},
          {href:'#breakfast', text:'На сніданок'},
          {href:'#side-dishes', text:'Гарніри'},
          {href:'#veal', text:'Телятина'},
          {href:'#pork', text:'Свинина'},
          {href:'#poultry', text:'Птиця'},
          {href:'#pasta', text:'Паста'},
          {href:'#beer-snacks', text:'Закуска до пива'},
          {href:'#bread', text:'Хліб'},
          {href:'#desserts', text:'Десерти'},
          {href:'#sourdough', text:'Хліб на заквасці'},
          {href:'#pizza', text:'Піца'}
        ],
        alco: [
          {href:'#vodka', text:'Горілка'},
          {href:'#cognac', text:'Коньяк'},
          {href:'#whisky', text:'Віскі'},
          {href:'#tequila', text:'Текіла'},
          {href:'#rum', text:'Ром'},
          {href:'#nastoiki', text:'Настоянки'},
          {href:'#liqueurs', text:'Лікери'},
          {href:'#vermouths', text:'Вермути'},
          {href:'#gin', text:'Джин'},
          {href:'#sparkling', text:'Ігристі вина'},
          {href:'#wines', text:'Вина'},
          {href:'#georgian-wines', text:'Вина Грузії'},
          {href:'#beer', text:'Пиво'},
          {href:'#shots', text:'Шоти'},
          {href:'#longs', text:'Лонги'}
        ],
        nonalco: [
          {href:'#nonalc-cocktails', text:'Коктелі безалкогольні'},
          {href:'#tea-coffee', text:'Чай / кава'},
          {href:'#water-drinks', text:'Вода / напої'}
        ],
        banquet: [
          {href:'#banquet-grill', text:'Гриль меню'},
          {href:'#banquet-meat-fish', text:"М'ясні та рибні страви"},
          {href:'#banquet-side', text:'Гарніри'},
          {href:'#banquet-snacks', text:'Закуски'},
          {href:'#banquet-varenyky', text:'Вареники'}
        ]
      };
      function renderSubMenu(menu) {
        const sub = subMenus[menu] || [];
        document.getElementById('mobileSubMenu').innerHTML = sub.map(item => `<a href="${item.href}" class="sub-menu-btn">${item.text}</a>`).join('');
      }
      if(window.innerWidth<=700){
        renderSubMenu('kitchen');
        // Встановлюємо активний підпункт "Стартери" з самого початку
        setTimeout(()=>{
          const firstSubBtn = document.querySelector('#mobileSubMenu .sub-menu-btn');
          if(firstSubBtn) {
            firstSubBtn.classList.add('active');
            // --- Додаємо автоскрол до першого підпункту ---
            const href = firstSubBtn.getAttribute('href');
            if(href && href.startsWith('#')) {
              const target = document.querySelector(href);
              if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
            }
          }
        }, 0);
        document.querySelectorAll('.main-menu-btn').forEach(btn=>{
          btn.addEventListener('click',function(){
            document.querySelectorAll('.main-menu-btn').forEach(b=>b.classList.remove('active'));
            this.classList.add('active');
            renderSubMenu(this.dataset.menu);
            // Після перемикання меню знову активуємо перший підпункт
            setTimeout(()=>{
              const firstSubBtn = document.querySelector('#mobileSubMenu .sub-menu-btn');
              if(firstSubBtn) {
                firstSubBtn.classList.add('active');
                // --- Додаємо автоскрол до першого підпункту ---
                const href = firstSubBtn.getAttribute('href');
                if(href && href.startsWith('#')) {
                  const target = document.querySelector(href);
                  if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
                }
                // --- Додаємо клас nav-used як і для саб-меню ---
                document.body.classList.add('nav-used');
              }
            }, 0);
          });
        });
        // Додаємо клас nav-used і для саб-меню
        document.addEventListener('click', function(e) {
          if(e.target.classList && e.target.classList.contains('sub-menu-btn')) {
            // Знімаємо active з усіх підпунктів і ставимо тільки на поточний
            document.querySelectorAll('#mobileSubMenu .sub-menu-btn').forEach(b=>b.classList.remove('active'));
            e.target.classList.add('active');
            document.body.classList.add('nav-used');
          }
        }, true);
      }
    </script>
    <script>
      // --- ПК sidebar: автоскрол і відкриття/закриття підменю ---
      document.querySelectorAll('.sidebar-submenu-toggle').forEach(function(toggle) {
        toggle.addEventListener('click', function(e) {
          if(window.innerWidth <= 700) return; // Тільки для ПК
          e.preventDefault();
          var parentLi = this.closest('.sidebar-has-submenu');
          var isOpen = parentLi.classList.contains('open');
          // Якщо вже відкрите — закриваємо
          if (isOpen) {
            parentLi.classList.remove('open');
            return;
          }
          // Якщо закрите — закриваємо всі, відкриваємо це
          document.querySelectorAll('.sidebar-has-submenu').forEach(function(li) {
            li.classList.remove('open');
          });
          parentLi.classList.add('open');
          // Якщо жоден підпункт не активний — активуємо перший
          var submenuLinks = parentLi.querySelectorAll('.sidebar-submenu .sidebar-link');
          var hasActive = Array.from(submenuLinks).some(link => link.classList.contains('active'));
          if (!hasActive && submenuLinks.length > 0) {
            submenuLinks[0].classList.add('active');
          }
          // Скролимо до активного підпункту, якщо є, інакше до першого
          var activeLink = parentLi.querySelector('.sidebar-submenu .sidebar-link.active');
          var firstLink = parentLi.querySelector('.sidebar-submenu .sidebar-link');
          var scrollLink = activeLink || firstLink;
          if (scrollLink && scrollLink.getAttribute('href').startsWith('#')) {
            var href = scrollLink.getAttribute('href');
            var section = document.querySelector(href);
            if (section) {
              const y = section.offsetTop - 110;
              mainContent.scrollTo({ top: y, behavior: 'smooth' });
            }
          }
        });
      });
      // --- Додаємо автопідсвічування та автоскрол для першого підпункту при завантаженні сторінки (ПК) ---
      window.addEventListener('DOMContentLoaded', function() {
        if(window.innerWidth > 700) {
          var openMenu = document.querySelector('.sidebar-has-submenu.open');
          if(openMenu) {
            var submenuLinks = openMenu.querySelectorAll('.sidebar-submenu .sidebar-link');
            var hasActive = Array.from(submenuLinks).some(link => link.classList.contains('active'));
            if (!hasActive && submenuLinks.length > 0) {
              submenuLinks[0].classList.add('active');
              // Скролимо до "Стартери"
              var href = submenuLinks[0].getAttribute('href');
              if(href && href.startsWith('#')) {
                var section = document.querySelector(href);
                if(section) {
                  const y = section.offsetTop - 110;
                  var mainContent = document.getElementById('mainContent');
                  if(mainContent) mainContent.scrollTo({ top: y, behavior: 'smooth' });
                }
              }
            }
          }
        }
      });
    </script>
  </body>
</html>
